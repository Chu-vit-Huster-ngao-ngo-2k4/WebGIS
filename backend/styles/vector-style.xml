<?xml version="1.0" encoding="utf-8"?>
<Map srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
  
  <Style name="water">
    <Rule>
      <PolygonSymbolizer fill="#7eb8e3" />
    </Rule>
  </Style>

  <Style name="points">
    <Rule>
      <MarkersSymbolizer fill="#d84a4a" stroke="#ffffff" stroke-width="1" width="8" height="8" />
    </Rule>
  </Style>

  <Style name="lines">
    <Rule>
      <LineSymbolizer stroke="#cc9900" stroke-width="2" />
    </Rule>
  </Style>

  <Style name="polygons">
    <Rule>
      <PolygonSymbolizer fill="#cccccc" />
      <LineSymbolizer stroke="#999999" stroke-width="0.5" />
    </Rule>
  </Style>

  <Layer name="water" srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over" buffer-size="128">
    <StyleName>water</StyleName>
    <Datasource>
      <Parameter name="type">postgis</Parameter>
      <Parameter name="host">postgres</Parameter>
      <Parameter name="port">5432</Parameter>
      <Parameter name="dbname">webgis</Parameter>
      <Parameter name="user">postgres</Parameter>
      <Parameter name="password">postgres</Parameter>
      <Parameter name="table">(SELECT way FROM planet_osm_polygon WHERE "natural" = 'water' OR "water" IS NOT NULL) AS data</Parameter>
      <Parameter name="geometry_field">way</Parameter>
      <Parameter name="srid">3857</Parameter>
    </Datasource>
  </Layer>
  
  <Layer name="points" srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over" buffer-size="128">
    <StyleName>points</StyleName>
    <Datasource>
      <Parameter name="type">postgis</Parameter>
      <Parameter name="host">postgres</Parameter>
      <Parameter name="port">5432</Parameter>
      <Parameter name="dbname">webgis</Parameter>
      <Parameter name="user">postgres</Parameter>
      <Parameter name="password">postgres</Parameter>
      <Parameter name="table">(SELECT way FROM planet_osm_point WHERE place IS NOT NULL OR amenity IS NOT NULL) AS data</Parameter>
      <Parameter name="geometry_field">way</Parameter>
      <Parameter name="srid">3857</Parameter>
    </Datasource>
  </Layer>

  <Layer name="lines" srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over" buffer-size="128">
    <StyleName>lines</StyleName>
    <Datasource>
      <Parameter name="type">postgis</Parameter>
      <Parameter name="host">postgres</Parameter>
      <Parameter name="port">5432</Parameter>
      <Parameter name="dbname">webgis</Parameter>
      <Parameter name="user">postgres</Parameter>
      <Parameter name="password">postgres</Parameter>
      <Parameter name="table">(SELECT way FROM planet_osm_line WHERE highway IS NOT NULL) AS data</Parameter>
      <Parameter name="geometry_field">way</Parameter>
      <Parameter name="srid">3857</Parameter>
    </Datasource>
  </Layer>

  <Layer name="polygons" srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over" buffer-size="128">
    <StyleName>polygons</StyleName>
    <Datasource>
      <Parameter name="type">postgis</Parameter>
      <Parameter name="host">postgres</Parameter>
      <Parameter name="port">5432</Parameter>
      <Parameter name="dbname">webgis</Parameter>
      <Parameter name="user">postgres</Parameter>
      <Parameter name="password">postgres</Parameter>
      <Parameter name="table">(SELECT way FROM planet_osm_polygon WHERE building IS NOT NULL) AS data</Parameter>
      <Parameter name="geometry_field">way</Parameter>
      <Parameter name="srid">3857</Parameter>
    </Datasource>
  </Layer>

</Map>
